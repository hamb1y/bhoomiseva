/* ==========================================================================
   1) FONTS
   ========================================================================== */
@font-face { font-family: "Crete"; src: url("/fonts/creteRoundR.ttf"); }
@font-face { font-family: "Alan Sans"; src: url("/fonts/AlanSans-regularSt.ttf"); }
@font-face { font-family: "Red Hat Display"; src: url("/fonts/RedHatDisplay-semiBSt.ttf"); }

/* ==========================================================================
   2) THEME VARIABLES
   ========================================================================== */
:root {
  --primary-color: #ffffff;         /* card/surfaces */
  --background-color: #f7f9f8;      /* page bg */
  --secondary-color: #111312;       /* headings/high text */
  --adaptive-gray: #6b6b6b;         /* muted/meta */
  --accent-color: var(--secondary-color);
  --text-color: #111312;
  --border-color: color-mix(in srgb, var(--secondary-color) 20%, transparent);
  --shadow-1: 0 4px 8px rgba(0, 0, 0, 0.08);
  --shadow-2: 0 6px 16px rgba(0, 0, 0, 0.12);
}

body:has(#dark:checked) {
  --background-color: #121212;      /* page bg (dark) */
  --primary-color: #1a1a1a;         /* surfaces (dark) */
  --text-color: #f5f5f5;
  --secondary-color: #e6e6e6;
  --adaptive-gray: #9e9e9e;
  --accent-color: var(--secondary-color); /* swap to brand if you want pop */
  --border-color: color-mix(in srgb, #fff 15%, transparent);
  --shadow-1: 0 8px 24px rgba(0, 0, 0, 0.35);
  --shadow-2: 0 12px 28px rgba(0, 0, 0, 0.45);
}

/* ==========================================================================
   3) BASE & TYPOGRAPHY
   ========================================================================== */
*,
*::before,
*::after { box-sizing: border-box; }
* { margin: 0; padding: 0; }
html { -webkit-text-size-adjust: 100%; }

body {
  background: var(--background-color);
  color: var(--text-color);
  font-family: 'Alan Sans', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  line-height: 1.6;
}

img, video { max-width: 100%; height: auto; display: block; }

h1, h2, h3, h4, h5, h6, .title {
  font-family: 'Red Hat Display', serif;
  margin-bottom: 0.5rem;
  color: var(--secondary-color);
}
h1 { font-size: 3rem; }
h2 { font-size: 2.5rem; }

.sub { color: var(--adaptive-gray); font-size: 1.5rem; }
ul.descStyle li { font-size: 2rem; }

/* Focus visible for keyboard users */
:focus-visible {
  outline: 2px solid var(--accent-color);
  outline-offset: 2px;
}

/* ==========================================================================
   4) FORMS & INPUTS
   ========================================================================== */
label { display: block; margin-bottom: 0.5rem; font-size: 1.2rem; }
.form-group { margin-bottom: 1.5rem; }

input[type="text"],
input[type="number"],
textarea,
.textarea {
  width: 100%;
  padding: 1rem;
  background: var(--primary-color);
  color: var(--text-color);
  font-size: 2rem;
  border: 1px solid var(--border-color);
  border-radius: 8px;
}

.radio-group label { display: inline-block; margin-right: 1rem; cursor: pointer; }

/* Theme switcher radios (keep DOM but hide visually) */
.themeSwitcher input[type="radio"] {
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
  pointer-events: none;
}

/* ==========================================================================
   5) BUTTONS
   ========================================================================== */
.button {
  display: inline-block;
  padding: 0.75rem 1.5rem;
  border: 2px solid var(--accent-color);
  border-radius: 8px;
  background: var(--primary-color);
  color: var(--accent-color);
  font-size: 1.2rem; font-weight: 500;
  cursor: pointer;
  transition: background 0.2s ease-in-out, color 0.2s ease-in-out, transform 0.15s ease-in-out;
}
.button:hover { background: var(--accent-color); color: var(--primary-color); }
.button:active { transform: translateY(1px); }
.button[disabled] { border-color: var(--adaptive-gray); color: var(--adaptive-gray); cursor: not-allowed; }
.button[disabled]:hover { background: var(--primary-color); }

/* ==========================================================================
   6) UTILITIES & GLOBALS
   ========================================================================== */
.doCenter, .doRight { display: flex; gap: 1rem; width: 100%; align-items: center; }
.doCenter { justify-content: center; }
.doRight  { justify-content: flex-end; align-items: flex-end; }

.centerText { text-align: center; }

.invisible,
button.hamburger.secondary.nvisible { display: none !important; }

hr { border: none; border-top: 1px solid var(--border-color); margin: 2rem 0; }

p, ul, li, ol { padding-left: 1rem; }

/* ==========================================================================
   7) HEADER, LOGO & NAVBAR
   ========================================================================== */
header { display: flex; align-items: center; padding: 1rem; gap: 1rem; }
header hr { flex-grow: 1; border-top: 1px solid var(--border-color); }

/* proportional logo scaling */
.logo-dark,
.logo-light {
  width: clamp(70px, 12vw, 120px);
  height: auto;
  display: block;
}

/* theme-specific logo visibility */
body:has(#dark:checked) .logo-light { display: none; }
body:has(#dark:checked) .logo-dark  { display: block; }
body:has(#light:checked) .logo-dark  { display: none; }
body:has(#light:checked) .logo-light { display: block; }

/* NAVBAR */
.navbar {
  list-style: none;
  display: block;
  position: relative;
  overflow: visible; /* avoid clipping dropdowns */
}
.navbar ul {
  margin: 0; padding: 0; list-style: none;
  display: flex; gap: 0.5rem; align-items: stretch;
}

.navbar > ul > li > a,
.navbar > ul > li > .dropdown-trigger {
  display: inline-flex; align-items: center; gap: 0.4rem;
  padding: 0.75rem 1.5rem;
  border: 2px solid var(--accent-color);
  border-radius: 0.75rem;
  color: var(--accent-color);
  text-decoration: none;
  background: var(--primary-color);
  transition: background 0.2s ease, color 0.2s ease;
}
.navbar > ul > li > a:hover,
.navbar > ul > li > .dropdown-trigger:hover {
  background: var(--accent-color);
  color: var(--primary-color);
}

.navbar .dropdown { position: relative; }
.navbar .dropdown-trigger { cursor: pointer; }
.navbar .dropdown-trigger::after {
  content: "";
  display: inline-block; width: 0.5rem; height: 0.5rem;
  border-right: 2px solid currentColor;
  border-bottom: 2px solid currentColor;
  transform: rotate(45deg);
  transition: transform 0.2s ease;
}
.navbar .dropdown.is-open > .dropdown-trigger::after { transform: rotate(-135deg); }

/* --- DROPDOWN MENU (desktop default): hidden by default, no ghost pills --- */
.navbar .dropdown-menu {
  display: none;
  position: absolute;
  top: calc(100% + 0.5rem);
  left: 0;
  min-width: 15rem;
  margin: 0;
  padding: 0.5rem 0;
  list-style: none;
  background: var(--primary-color);
  border-radius: 0.75rem;
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-1);
  z-index: 1100;
  overflow: hidden;
}
.navbar .dropdown-menu li { padding: 0; }
.navbar .dropdown-menu a {
  display: block; width: 100%;
  padding: 0.75rem 1.5rem;
  border: none; border-radius: 0;
  background: transparent;
  color: var(--accent-color);
  text-decoration: none;
}
.navbar .dropdown-menu li + li a {
  border-top: 1px solid color-mix(in srgb, var(--adaptive-gray) 25%, transparent);
}
.navbar .dropdown-menu a:hover { background: var(--accent-color); color: var(--primary-color); }

/* open state (desktop & script-driven) */
@keyframes menuIn {
  from { opacity: 0; transform: translateY(-0.5rem); }
  to   { opacity: 1; transform: translateY(0); }
}
.navbar .dropdown.is-open > .dropdown-menu { display: block; animation: menuIn 0.2s ease; }

/* Desktop layout */
@media (min-width: 821px) {
  .hamburger { display: none; }
  nav.navbar {
    display: flex; flex-direction: row;
    position: static; transform: none; background: none; padding: 0; overflow: visible;
  }
  /* optional: open on hover for desktop */
  .navbar .dropdown:hover > .dropdown-menu { display: block; }
}

/* ==========================================================================
   8) MOBILE NAV (overlay + dynamic dropdowns)
   ========================================================================== */
/* Hide the checkbox visually but keep it functional */
input.nav-toggle {
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
}

/* hamburger button visible on mobile */
@media (max-width: 820px) {
  .hamburger {
    display: block; background: none; border: none; font-size: 2rem;
    color: var(--accent-color); z-index: 1051;
  }

  nav.navbar {
    display: flex; flex-direction: column;
    position: fixed; top: 0; left: 0; right: 0;
    width: auto; max-width: none; height: 100vh;
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(10px);
    padding: 4rem 1.5rem;
    transition: transform 0.3s ease;
    transform: translateX(-100%);
    z-index: 1050;
    overflow-y: auto;
  }
  body:has(#dark:checked) nav.navbar { background: rgba(17, 19, 18, 0.85); }

  /* open the slideout when checkbox checked */
  .nav-toggle:checked ~ nav.navbar { transform: translateX(0); }

  .navbar ul { flex-direction: column; gap: 1rem; width: 100%; }
  .navbar li { padding: 0; white-space: normal; }
  .navbar > ul > li > a,
  .navbar > ul > li > .dropdown-trigger {
    width: 100%; justify-content: space-between;
  }

  /* mobile dropdowns: render inline under their trigger */
  .navbar .dropdown-menu {
    position: static;
    display: none;                 /* hidden until .is-open */
    background: transparent;
    border: 0;
    box-shadow: none;
    padding: 0.25rem 0 0.5rem 0;
    margin-left: 0;                /* keep flush */
    border-left: 0;
  }
  .navbar .dropdown-menu a {
    padding: 0.5rem 0.5rem 0.5rem 1rem; /* slight indent */
    border-radius: 0.5rem;
  }
  .navbar .dropdown.is-open > .dropdown-menu { display: block; }
}

/* ==========================================================================
   9) BLOG GRID & CARDS
   ========================================================================== */
.blog-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  padding: 1rem;
}

.card,
.blog-card {
  display: flex; flex-direction: column;
  background: var(--primary-color);
  border-radius: 1rem;
  overflow: hidden;
  box-shadow: var(--shadow-1);
  transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
  border: 1px solid var(--border-color);
}
.card:hover,
.blog-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-2);
  border-color: var(--accent-color);
}
.blog-thumb, .card-thumb {
  width: 100%;
  height: 90px;
  object-fit: cover;
  background: var(--adaptive-gray);
}
.blog-content, .card-content { padding: 1rem; }
.blog-title, .card-title {
  font-size: 1.2rem; font-weight: 600; color: var(--accent-color);
  margin-bottom: 0.5rem;
}
.blog-date, .card-date { font-size: 0.9rem; color: var(--adaptive-gray); }

/* ==========================================================================
   10) RECENT BLOGS (scoped)
   ========================================================================== */
.recent-blogs {
  display: flex; gap: 1rem; overflow-x: auto; padding: 1rem 0;
  scroll-snap-type: x mandatory;
  scrollbar-width: thin; scrollbar-color: var(--adaptive-gray) transparent;
}
.recent-blogs::-webkit-scrollbar { height: 6px; }
.recent-blogs::-webkit-scrollbar-thumb { background: var(--adaptive-gray); border-radius: 3px; }

.recent-blogs .blog-card {
  flex: 0 0 auto;
  min-width: 240px;
  scroll-snap-align: start;
}
.recent-blogs .blog-card .thumb img {
  width: 100%; height: 140px; object-fit: cover; display: block;
}
.recent-blogs .blog-card .info { padding: 0.75rem 1rem; }
.recent-blogs .blog-card h3 { margin: 0 0 0.5rem; font-size: 1.1rem; color: var(--accent-color); }
.recent-blogs .blog-card time { font-size: 0.85rem; color: var(--adaptive-gray); }

/* ==========================================================================
   11) LINKS
   ========================================================================== */
a { color: var(--accent-color); text-decoration: none; transition: color 0.2s ease; }
a:hover { text-decoration: underline; }

/* ==========================================================================
   12) POST LAYOUT
   ========================================================================== */
.post-layout { padding: 2rem; max-width: 720px; margin: 0 auto; }
.post-layout h1 { font-size: 2rem; margin-bottom: 0.5rem; color: var(--accent-color); }

/* ==========================================================================
   13) ANIMATIONS (opt-in)
   ========================================================================== */
@keyframes fadeUp {
  0% { opacity: 0; transform: translateY(30px); }
  100% { opacity: 1; transform: translateY(0); }
}
.fade-up { animation: fadeUp 0.8s ease-out forwards; }

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation: none !important; transition: none !important; }
}
